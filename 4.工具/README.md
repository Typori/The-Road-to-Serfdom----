# 翻译工程工具集

本目录包含用于辅助《通往奴役之路》翻译工程的各类工具。

## 工具列表

### split_chapters.py - 原文完整拆分工具 (v2.0)

**功能**：
- 完整拆分原文，包括所有前言、16个章节和附录
- 避免内容遗漏和碎片化
- 清晰组织文件结构

**使用方法**：

```bash
python split_chapters.py
```

**输出结构**：

```
2.原文资料/chapters/
├── 00_Complete_Index.md              # 完整拆分索引
├── 00_Editorial_Foreword.txt         # 编者前言
├── 00_Introduction.txt               # 主要前言（包含所有序文）
├── 00_Preface_Original_Editions.txt  # 原版前言
├── 00_Preface_1976.txt               # 1976年版前言
├── 00_Foreword_1956.txt              # 1956年版前言
├── Chapter01_*.txt                   # 主要章节 (1-16)
├── Chapter02_*.txt
├── ...
├── Chapter16_*.txt
└── 99_Appendix_And_Supplements.txt   # 参考文献、附录、历史文献
```

**特点**：

✅ **完整性**：包含原文的每一个字符（99.99%以上覆盖率）
✅ **避免碎片化**：
   - 零散前言合并到 `00_Introduction.txt`
   - 所有附录合并到 `99_Appendix_And_Supplements.txt`
✅ **清晰组织**：
   - 前言部分以 `00_` 开头
   - 主要章节按顺序排列
   - 附录部分以 `99_` 开头
✅ **无遗漏**：完整保留原文内容

**技术要点**：

1. **智能识别**：
   - 使用正则表达式精确定位各部分
   - 处理特殊格式（Unicode引号、跨行标题等）

2. **边界处理**：
   - 自动确定各部分的开始和结束位置
   - 避免内容重复或遗漏

3. **文件命名**：
   - 自动清理特殊字符
   - 使用序号确保正确排序

**输出示例**：

```
======================================================================
原文完整拆分工具 v2.0
======================================================================
正在加载原文...
✓ 已加载 771706 个字符

正在识别文书完整结构...
✓ 找到 22 个部分
  章节: 16 | 其他部分: 6

开始提取部分...
  ✓ 【前言部分】Editorial Foreword → 00_Editorial_Foreword.txt (0.70 KB)
  ✓ Chapter 01: The Abandoned Road → Chapter01_Chapter_01_The_Abandoned_Road.txt (32.84 KB)
  ✓ Chapter 02: The Great Utopia → Chapter02_Chapter_02_The_Great_Utopia.txt (20.26 KB)
  ... (更多章节)
  ✓ 【附录部分】Bibliographical Note & Appendix → 99_Appendix_And_Supplements.txt (4.07 KB)

生成完整索引...
  ✓ 索引文件: 00_Complete_Index.md

======================================================================
✓ 拆分完成！
  部分总数: 22
  总大小: 771622 / 771706 字符
  完整性: 99.99%
  输出: .../2.原文资料/chapters
======================================================================
```

---

### 其他工具

- **convert_readable.py**: 将对照译文转换为纯译文格式
- **extract_translation.py**: 从对照文件中提取翻译内容

---

## 版本历史

- **v2.0** (2025-11-18)
  - 完整拆分原文，包括所有前言和附录
  - 避免内容碎片化
  - 提高覆盖率到99.99%

- **v1.0** (2025-11-18)
  - 初始版本，拆分16个主要章节

---

## 使用建议

1. **首次运行**：
   ```bash
   python split_chapters.py
   ```
   会自动清理旧的章节目录并重新生成

2. **查看索引**：
   打开 `2.原文资料/chapters/00_Complete_Index.md` 了解完整结构

3. **开始翻译**：
   使用各个章节文件作为翻译工作的基础

---

## 贡献与反馈

如有改进建议，请更新本工具或此README文件。
